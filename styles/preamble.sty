\usepackage[main=russian,english]{babel} % Русский язык
\usepackage[no-math]{fontspec}  % Что-то для поддержки шрифтов
\usepackage{geometry} % Настройка формата отдельных элементов
\usepackage[dvips,xetex]{graphicx} % Поддержка графики
\usepackage{fancyhdr} % Настройка колонтитулов
\usepackage[subpreambles=true]{standalone} % Поддержка нескольких tex-файлов
\usepackage{import} % Имортирование tex файлов
\usepackage[pages=some]{background} % Вставка изображений на задний фон
\usepackage{xcolor} % Поддержка разных цветов
\usepackage{minted} % Вставка кода
\usepackage{amsmath} % Математические символы
\usepackage{amsfonts} % Шрифты для математики
\usepackage{amssymb} % Больше математических символов
\usepackage{amsthm} % Нумерация теорем
\usepackage{caption} % Подпись к чему-то
\usepackage{hyperref} % Вставка ссылок и их раскрасска
\usepackage{xurl} % Красивая вставка ссылок
\usepackage{indentfirst} % Делать отступы для первых абзацев тоже
\usepackage{multicol} % Объединение столбцов для для таблиц
\usepackage[shortlabels]{enumitem} % Для красивой нумерации
\usepackage{csvsimple} % Вставка простых табличек
\usepackage{pgfplotstable} % Вставка сложных табличек
\usepackage{ulem} % Для подчёркиваний и перечёркиваний текста

% Устанавливаем нужные шрифты
\setmainfont{Raleway}[
	Extension = .ttf,
	UprightFont = fonts/Raleway/*-Regular,
	ItalicFont = fonts/Raleway/*-Italic,
	BoldFont = fonts/Raleway/*-Bold,
	BoldItalicFont = fonts/Raleway/*-Bold-Italic,
]
\setmonofont{AnonymousPro}[
	Extension = .ttf,
	UprightFont = fonts/AnonymousPro/*-Regular,
	ItalicFont = fonts/AnonymousPro/*-Italic,
	BoldFont = fonts/AnonymousPro/*-Bold,
	BoldItalicFont = fonts/AnonymousPro/*-Bold-Italic,
]

% Формируем размеры документа и отступы
\geometry{
	a4paper,
	total={170mm,257mm},
	left=20mm,
	top=20mm
}

% Рамка для титульника
\backgroundsetup{
	scale=1.0,
	color=black,
	opacity=0.4,
	angle=0,
	contents={%
		\includegraphics[width=0.9\paperwidth,height=0.929\paperheight]{pic/border}
	}%
}

% Настройка цвета
\definecolor{LightGray}{gray}{0.98}

% Перевод листинга на русский
\renewcommand{\listingscaption}{Листинг}

% Разукрашивание сыслок
\hypersetup{
    colorlinks=true,
    linkcolor=teal,
    filecolor=purple,      
    urlcolor=blue,
}

% \lst вставляет код из файла, где
% первый аргумент -- язык, второй -- имя файла
\newcommand{\lst}[2] {
	\inputminted[
		fontfamily=tt,
		numberblanklines=true,
		numbersep=5pt,
		frame=leftline,
		framerule=0.4pt,
		framesep=2mm,
		funcnamehighlighting=true,
		tabsize=2,
		breaklines=true,
		linenos=true,
		breakanywhere=true,
		%bgcolor=LightGray,
		fontsize=\footnotesize,
	]{#1}{#2}
}

% \mtext принимает текст в качестве аргумента.
% используется для вставки слов в математические формулы
\newcommand{\mtext}[1] {
	\, \text{#1} \,
}

% \Int большой интеграл
\newcommand{\Int} {
	\displaystyle\int\limits
}